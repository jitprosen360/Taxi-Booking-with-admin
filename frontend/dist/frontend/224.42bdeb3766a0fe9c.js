"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[224],{7224:(z,f,d)=>{d.r(f),d.d(f,{CreaterideModule:()=>W});var m=d(6814),c=d(6223),g=d(7700),e=d(5879),C=d(2296);let y=(()=>{var n;class r{constructor(t){this.data=t}}return(n=r).\u0275fac=function(t){return new(t||n)(e.Y36(g.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-success-dialog"]],decls:9,vars:2,consts:[[1,"success-component"],[1,"success-icon"],[1,"fas","fa-check-circle"],[1,"success-title"],[1,"success-message"],["mat-button","","mat-dialog-close","","cdkFocusInitial","",1,"success-button"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"i",2),e.qZA(),e.TgZ(3,"h2",3),e._uU(4),e.qZA(),e.TgZ(5,"p",4),e._uU(6),e.qZA(),e.TgZ(7,"button",5),e._uU(8,"OK"),e.qZA()()),2&t&&(e.xp6(4),e.hij("",i.data.title,"!"),e.xp6(2),e.Oqu(i.data.content))},dependencies:[C.lW,g.ZT],styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.success-component[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:20px;background-color:#d2c2ff;border-radius:4px;animation:_ngcontent-%COMP%_fadeIn .5s ease-in-out}.success-icon[_ngcontent-%COMP%]{font-size:48px;color:#4caf50}.success-title[_ngcontent-%COMP%]{font-size:24px;margin-top:10px;margin-bottom:5px}.success-message[_ngcontent-%COMP%]{font-size:18px;margin-bottom:15px}.success-button[_ngcontent-%COMP%]{padding:10px 20px;font-size:16px;border:none;border-radius:4px;background-color:#830fff;color:#fff;cursor:pointer}.success-button[_ngcontent-%COMP%]:hover{background-color:#fff}.success-button[_ngcontent-%COMP%]:focus{outline:none}"]}),r})();var v=d(9862),T=d(4506);let x=(()=>{var n;class r{constructor(t){this.http=t,this.serverUrl=T.N.apiUrl}getcode(){return this.http.get(`${this.serverUrl}/countrydata`)}getUserByNumber(t){return this.http.post(`${this.serverUrl}/userdata/number`,t)}addRide(t){return this.http.post(`${this.serverUrl}/addride`,t)}getServiceType(t){return console.log("This is  CITY ID =======",t),this.http.get(`${this.serverUrl}/vehicle/${t}`)}}return(n=r).\u0275fac=function(t){return new(t||n)(e.LFG(v.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var b=d(9229),Z=d(6993),A=d(5946),I=d(7682),h=d(5195);const M=["startInput"],w=["waypointInput"],N=["endInput"],O=["directionBtn"];function D(n,r){if(1&n&&(e.TgZ(0,"option",13),e._uU(1),e.qZA()),2&n){const o=r.$implicit;e.s9C("value",o),e.xp6(1),e.Oqu(o)}}function F(n,r){if(1&n){const o=e.EpF();e.TgZ(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17)(4,"p",18),e._uU(5,"Name"),e.qZA()(),e.TgZ(6,"div",19)(7,"p",20),e._uU(8),e.qZA()()(),e.TgZ(9,"div",16)(10,"div",17)(11,"p",18),e._uU(12,"Email"),e.qZA()(),e.TgZ(13,"div",19)(14,"p",20),e._uU(15),e.qZA()()(),e.TgZ(16,"div",16)(17,"div",17)(18,"p",18),e._uU(19,"Mobile"),e.qZA()(),e.TgZ(20,"div",19)(21,"p",20),e._uU(22),e.qZA()()(),e.TgZ(23,"button",21),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.addTravelForm())}),e._uU(24,"Next"),e.qZA()()()}if(2&n){const o=e.oxw();e.xp6(8),e.Oqu(o.userArray.username),e.xp6(7),e.Oqu(o.userArray.useremail),e.xp6(7),e.AsE("",o.userArray.countrycode,"\xa0",o.userArray.userphone,"")}}function U(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1," Please enter starting point! "),e.qZA())}function E(n,r){if(1&n&&(e.TgZ(0,"div",47),e.YNc(1,U,2,0,"div",31),e.qZA()),2&n){const o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",o.travelForm.controls.start.errors.required)}}function k(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,E,2,1,"div",46),e.qZA()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.travelForm.controls.start.errors)}}function P(n,r){1&n&&(e.TgZ(0,"div",48),e._uU(1," Service Not Available! "),e.qZA())}function S(n,r){1&n&&(e.TgZ(0,"div",51),e._uU(1," Please enter destination! "),e.qZA())}function q(n,r){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,S,2,0,"div",50),e.qZA()),2&n){const o=e.oxw(3);e.xp6(1),e.Q6J("ngIf",o.travelForm.controls.end.errors.required)}}function R(n,r){if(1&n&&(e.TgZ(0,"div",45),e.YNc(1,q,2,1,"div",49),e.qZA()),2&n){const o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.travelForm.controls.end.errors)}}function J(n,r){if(1&n){const o=e.EpF();e.TgZ(0,"div",52),e._UZ(1,"input",53),e.TgZ(2,"button",54),e.NdJ("click",function(){const s=e.CHM(o).index,a=e.oxw(2);return e.KtG(a.removeWaypoint(s))}),e._uU(3,"Remove"),e.qZA()()}if(2&n){const o=r.$implicit;e.xp6(1),e.Q6J("value",o)}}function Y(n,r){if(1&n){const o=e.EpF();e.TgZ(0,"div",22)(1,"div",23)(2,"div",15)(3,"form",2),e.NdJ("ngSubmit",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.calculateRoute())}),e.TgZ(4,"h3",24),e._uU(5,"Fill Ride Details"),e.qZA(),e.TgZ(6,"div",25)(7,"div",26)(8,"label",27),e._uU(9,"Starting Point"),e.qZA()(),e.TgZ(10,"input",28,29),e.NdJ("change",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.startInputChange())}),e.qZA(),e.YNc(12,k,2,1,"div",30),e.TgZ(13,"div"),e.YNc(14,P,2,0,"div",31),e.qZA()(),e.TgZ(15,"div",25)(16,"div",26)(17,"label",32),e._uU(18,"Destination"),e.qZA()(),e._UZ(19,"input",33,34),e.YNc(21,R,2,1,"div",30),e.qZA(),e.TgZ(22,"div",25)(23,"div",26)(24,"label",35),e._uU(25,"Way point"),e.qZA()(),e.TgZ(26,"div",36),e._UZ(27,"input",37,38),e.TgZ(29,"button",39),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.addWaypoint())}),e._uU(30,"Add"),e.qZA()()(),e.TgZ(31,"div",25),e.YNc(32,J,4,1,"div",40),e.qZA(),e.TgZ(33,"div",41)(34,"button",42),e.NdJ("click",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.close())}),e._uU(35,"Close"),e.qZA(),e.TgZ(36,"button",43,44),e._uU(38,"Calculate"),e.qZA()()()()()()}if(2&n){const o=e.oxw();let t,i;e.xp6(3),e.Q6J("formGroup",o.travelForm),e.xp6(9),e.Q6J("ngIf",o.travelForm.controls.start.errors&&(null==(t=o.travelForm.get("start"))?null:t.touched)||(null==(t=o.travelForm.get("start"))?null:t.dirty)),e.xp6(2),e.Q6J("ngIf",!o.isInZone),e.xp6(7),e.Q6J("ngIf",o.travelForm.controls.end.errors&&(null==(i=o.travelForm.get("end"))?null:i.touched)||(null==(i=o.travelForm.get("end"))?null:i.dirty)),e.xp6(8),e.Q6J("disabled",o.stops==o.stopsCounter),e.xp6(3),e.Q6J("ngForOf",o.waypointsArray),e.xp6(4),e.Q6J("disabled",!o.travelForm.valid)}}function V(n,r){if(1&n&&(e.TgZ(0,"a",57),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const o=r.$implicit;e.xp6(1),e.AsE("",e.lcZ(2,2,o.service.vehicleName)," | Estimate Fare : ",o.estimateFare,"")}}function G(n,r){1&n&&(e.TgZ(0,"a",76),e._uU(1,"No service type available right now!"),e.qZA())}function L(n,r){if(1&n&&(e.TgZ(0,"option",13),e._uU(1),e.ALo(2,"titlecase"),e.qZA()),2&n){const o=r.$implicit;e.s9C("value",o.service.vehicleName),e.xp6(1),e.hij(" ",e.lcZ(2,2,o.service.vehicleName)," ")}}function Q(n,r){if(1&n){const o=e.EpF();e.TgZ(0,"mat-card",55)(1,"div",56)(2,"a",57),e._uU(3),e.qZA(),e.TgZ(4,"a",57),e._uU(5),e.qZA(),e.YNc(6,V,3,4,"a",58),e.YNc(7,G,2,0,"a",59),e.qZA(),e.TgZ(8,"div",60)(9,"form",2),e.NdJ("ngSubmit",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.onBookRide())}),e.TgZ(10,"a",57)(11,"select",61,62),e.NdJ("change",function(){e.CHM(o);const i=e.MAs(12),s=e.oxw();return e.KtG(s.onSelectServiceType(i.value))}),e.TgZ(13,"option",63),e._uU(14,"Select service type"),e.qZA(),e.YNc(15,L,3,4,"option",5),e.qZA()(),e.TgZ(16,"a",57)(17,"p"),e._uU(18,"Select payment option"),e.qZA(),e.TgZ(19,"div",64),e._UZ(20,"input",65),e.TgZ(21,"label",66),e._uU(22,"Cash"),e.qZA()(),e.TgZ(23,"div",64),e._UZ(24,"input",67),e.TgZ(25,"label",68),e._uU(26,"Card"),e.qZA()()(),e.TgZ(27,"a",57)(28,"div",64)(29,"input",69),e.NdJ("change",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.handleRadioChange())})("ngModelChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.selectedOption=i)}),e.qZA(),e.TgZ(30,"label",70),e._uU(31,"Book Now"),e.qZA()(),e.TgZ(32,"div",64)(33,"input",71),e.NdJ("ngModelChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.selectedOption=i)})("change",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.handleRadioChange())}),e.qZA(),e.TgZ(34,"label",68),e._uU(35,"Schedule"),e.qZA()(),e.TgZ(36,"button",72),e._uU(37,"Confirm Ride"),e.qZA()()(),e.TgZ(38,"a",57)(39,"div",73)(40,"input",74),e.NdJ("ngModelChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.selectedDate=i)})("change",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.onselecteddate())}),e.qZA(),e.TgZ(41,"input",75),e.NdJ("ngModelChange",function(i){e.CHM(o);const s=e.oxw();return e.KtG(s.selectedTime=i)})("input",function(){e.CHM(o);const i=e.oxw();return e.KtG(i.onselectedtime())}),e.qZA()()()()()}if(2&n){const o=e.oxw();e.xp6(3),e.hij("Estimate Distance : ",o.totalDistance," Km"),e.xp6(2),e.AsE("Estimate Time : ",o.totalHours," hours ",o.totalMinutes," minutes"),e.xp6(1),e.Q6J("ngForOf",o.vehiclesPricing),e.xp6(1),e.Q6J("ngIf",0==o.vehiclesPricing.length),e.xp6(2),e.Q6J("formGroup",o.rideForm),e.xp6(6),e.Q6J("ngForOf",o.vehiclesPricing),e.xp6(14),e.Q6J("ngModel",o.selectedOption),e.xp6(4),e.Q6J("ngModel",o.selectedOption),e.xp6(3),e.Q6J("disabled",!o.rideForm.valid||!o.isDateTimeValid),e.xp6(4),e.s9C("min",o.minDate),e.Q6J("ngModel",o.selectedDate)("disabled","bookNow"===o.selectedOption),e.xp6(1),e.Q6J("ngModel",o.selectedTime)("disabled","bookNow"===o.selectedOption)("min",o.minTime)}}let H=(()=>{var n;class r{constructor(t,i,s,a,l,u,_,p,$){this.http=t,this.fb=i,this._createride=s,this.toaster=a,this._city=l,this.cdr=u,this._setting=_,this.dialog=p,this.authService=$,this.countryCodes=[],this.waypointsArray=[],this.cities=[],this.cordinatesArray=[],this.isInZone=!0,this.polygonsArray=[],this.polygonObjects=[],this.isRoute=!1,this.vehiclesPricing=[],this.userForm=this.fb.group({countrycode:["+91",c.kI.required],userphone:["",[c.kI.required,c.kI.pattern("[0-9]*"),c.kI.minLength(10)]]}),this.travelForm=this.fb.group({start:["",c.kI.required],end:["",c.kI.required]}),this.rideForm=this.fb.group({serviceType:["",c.kI.required],paymentOption:["",c.kI.required],rideTime:["",c.kI.required]}),this.numericInputValue="",this.isNext=!0,this.isUser=!1,this.stopsCounter=0,this.selectedOption="",this.estimateTime="",this.page=1,this.limit=500,this.isDateTimeValid=!0}ngOnInit(){const t=new Date;this.selectedDate=this.formatDate(t),this.selectedTime=this.formatTime(t),this.getcountryCode(),this.getNumberOfStops(),this.initMap()}initMap(){navigator.geolocation.getCurrentPosition(t=>{let i=t.coords;const s={lat:i.latitude,lng:i.longitude};this.map=new google.maps.Map(document.getElementById("map"),{zoom:7,center:s})}),this.directionsService=new google.maps.DirectionsService,this.directionsRenderer=new google.maps.DirectionsRenderer,this.directionsRenderer.setMap(this.map)}getcountryCode(){this._createride.getcode().subscribe({next:t=>{t.countrydata.forEach(s=>{this.countryCodes.push(s.countryCode)}),this.countryCodes.sort()},error:t=>{console.log(t)}})}getNumberOfStops(){this._setting.get_setting_data().subscribe({next:t=>{this.stops=t[0].stop},error:t=>{this.toaster.error(t.message)}})}filterPhone(t){let i=t.target.value;i=i.replace(/\D/g,""),i.length>10&&(i=i.slice(0,10)),this.userForm.patchValue({userphone:i}),t.target.value=i}getUserDetails(){this.isNext=!0,this._createride.getUserByNumber({countrycode:this.userForm.value.countrycode,userphone:this.userForm.value.userphone}).subscribe({next:i=>{console.log(i),this.userArray=i,this.isUser=!0,this.polygonsArray=[],this._city.getcity(this.page,this.limit).subscribe({next:s=>{console.log("This is Available Cities in DB for Service============",s),this.cities=s.citydata,this.cities.forEach(a=>{this.polygonsArray.push(a.coordinates)}),console.log("City's Polygons data:  ",this.polygonsArray),this.polygonObjects=this.polygonsArray.map(function(a){return new google.maps.Polygon({paths:a})})},error:s=>{console.log(s),this.toaster.error(s.status,s.message)}})},error:i=>{console.log(i.error.message),i.error?(this.toaster.error(i.error.message,"Sorry"),this.userArray=void 0,this.isUser=!1):this.toaster.error(i.status,i.statusText)}})}addTravelForm(){this.isNext=!1,this.isUser=!1,setTimeout(()=>{console.log("Autocomplete Function Initiated====================Now"),this.initAutocomplete()},200)}initAutocomplete(){let t=document.getElementById("startInput");const i=new google.maps.places.Autocomplete(t);console.log(i);let s=document.getElementById("waypoint");new google.maps.places.Autocomplete(s);let l=document.getElementById("endInput");new google.maps.places.Autocomplete(l)}startInputChange(){this.rideForm.reset(),this.rideForm.patchValue({serviceType:""}),this.startLocation=this.startInput?.nativeElement.value,this.isInZone=!0,""!=this.startLocation&&this.checkmyLocation()}checkmyLocation(){if(0!=this.polygonObjects?.length){const t=new google.maps.Geocoder;console.log(t),setTimeout(()=>{let i=document.getElementById("startInput");console.log(i.value),t.geocode({address:i.value},(s,a)=>{if("OK"===a){const u=s[0].geometry.location;console.log("This is location=============",u),this.isInZone=!1;for(var l=0;l<this.polygonObjects.length;l++)if(google.maps.geometry.poly.containsLocation(u,this.polygonObjects[l])){this.cityIndex=l,console.log("INDEX VALUE OF CITY[i]============",this.cityIndex),this.isInZone=!0;break}console.log("Wheather CITY is in Zone or NOT=============",this.isInZone),console.log("CITY INDEX AFTER LOOP==============",this.cityIndex),this.isInZone?(this.endInput&&(this.endInput.nativeElement.disabled=!1,this.waypointInput.nativeElement.disabled=!1,this.directionBtn.nativeElement.disabled=!1),console.log("Service Available"),this.toaster.success("Service is Available in City")):(console.log("Service Not Available"),this.endInput&&(this.endInput.nativeElement.disabled=!0,this.waypointInput.nativeElement.disabled=!0,this.directionBtn.nativeElement.disabled=!0),this.toaster.error("Service is Not Available in City"))}else console.log("Select location from auto suggestion",a),this.toaster.info("Select Location from Auto Suggestion")})},200)}}addWaypoint(){const t=this.waypointInput?.nativeElement.value;t&&(this.stopsCounter++,this.waypointsArray.push(t),this.waypointInput.nativeElement.value="")}removeWaypoint(t){this.stopsCounter--,this.waypointsArray.splice(t,1)}calculateRoute(){this.startLocation=this.startInput?.nativeElement.value,this.endLocation=this.endInput?.nativeElement.value,this.rideForm.reset(),this.rideForm.patchValue({serviceType:""}),console.log("STARTING LOCATION:   ",this.startLocation),console.log("DESTINATION LOCATION:   ",this.endLocation),console.log("MY WAY POINT ARRAY===================",this.waypointsArray),this.directionsService?.route({origin:this.startLocation,destination:this.endLocation,waypoints:this.waypointsArray.map(t=>({location:t})),optimizeWaypoints:!0,travelMode:google.maps.TravelMode.DRIVING},(t,i)=>{"OK"===i?(this.drawRoute(t),this.isRoute=!0):"ZERO_RESULTS"===i?(this.isRoute=!1,alert("No route found for given locations!"),console.log("No route found for given locations! "+i)):(this.isRoute=!1,alert("Select location from auto suggestion "),console.log("Select location from auto suggestion "+i))})}calculateFare(t,i){let s=+t.minfare,l=+t.baseprice,p=(this.totalDistance-+t.distancebaseprice)*+t.ppudist+l+this.totalTime*+t.pputime;(p<s||p<l)&&(p=s),this.estimateFare=p,this.vehiclesPricing[i].estimateFare=p,console.log("This is SERVICE FEES ==============",this.vehiclesPricing[i].estimateFare),console.log("This is SERVICE FARE ==============",p)}getVehiclePricing(t){console.log("CITY Index Value=========",t);const i=this.cities[t]._id;console.log("CITY ID========",i),console.log("CITY NAME========",this.cities[t].city),this._createride.getServiceType(i).subscribe({next:a=>{console.log(a),this.vehiclesPricing=a.pricingdata,this.vehiclesPricing.forEach((l,u)=>{this.calculateFare(l,u)}),this.cdr.detectChanges(),console.log("Estimated Price Array==================",this.vehiclesPricing)},error:a=>{console.log(a),this.toaster.error(a.message)}})}drawRoute(t){console.log(t);const i=t.routes[0];let s=0;for(let l=0;l<i.legs.length;l++)s+=+i.legs[l].distance.value;let a=0;for(let l=0;l<i.legs.length;l++)a+=+i.legs[l].duration.value;this.totalDistance=+s/1e3,console.log("Total Distance:",this.totalDistance,"km"),this.totalHours=Math.floor(a/3600),this.totalMinutes=Math.round(a%3600/60),console.log("Total Time:",this.totalHours,"hours",this.totalMinutes,"minutes"),this.estimateTime=this.totalHours+" hours "+this.totalMinutes+" minutes ",this.totalTime=+a/60,console.log("Total Minutes============",this.totalTime),this.getVehiclePricing(this.cityIndex),this.directionsRenderer.setMap(null),this.directionsRenderer=new google.maps.DirectionsRenderer({polylineOptions:{strokeColor:"blue",strokeWeight:5}}),this.directionsRenderer.setMap(this.map),this.directionsRenderer.setDirections(t)}onSelectServiceType(t){console.log(t),this.selectedVehicle=this.vehiclesPricing.find(i=>(console.log(i.service.vehicleName===t),i.service.vehicleName===t)),console.log("Selected Vehicle Condition Value===========",this.selectedVehicle),this.selectedVehicle&&(this.selectedVehicle.totalDistance=this.totalDistance,this.selectedVehicle.totalTime=this.totalTime)}handleRadioChange(){if("bookNow"===this.selectedOption){const t=new Date;this.selectedDate=this.formatDate(t),this.selectedTime=this.formatTime(t),this.isDateTimeValid=!0}else{const t=new Date;this.minDate=this.formatDate(t),this.minTime=this.formatTime(t);const i=new Date(this.selectedDate+"T"+this.selectedTime),s=new Date;i<s&&(setTimeout(()=>{this.selectedDate=this.formatDate(s),this.selectedTime=this.formatTime(s)},0),this.isDateTimeValid=!1),this.isDateTimeValid=i>s,this.isDateTimeValid||this.toaster.info("Please select valid date and time"),console.log("isDateTimeValid=============",this.isDateTimeValid)}}onselecteddate(){console.log(this.selectedDate),console.log("SELECTED DATE==================",this.selectedDate),this.handleRadioChange()}onselectedtime(){console.log("SELECTED TIME==================",this.selectedTime),this.handleRadioChange()}formatDate(t){return`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)}`}formatTime(t){return`${("0"+t.getHours()).slice(-2)}:${("0"+t.getMinutes()).slice(-2)}`}onBookRide(){console.log(this.rideForm.value),this.selectedVehicle.startLocation=this.startLocation,this.selectedVehicle.endLocation=this.endLocation,this.selectedVehicle.waypints=this.waypointsArray,this.rideData={...this.rideForm.value,rideDate:this.selectedDate,time:this.selectedTime,serviceId:this.selectedVehicle.service._id,userId:this.userArray._id,cityId:this.selectedVehicle.city,startLocation:this.startLocation,endLocation:this.endLocation,wayPoints:this.waypointsArray,totalDistance:this.totalDistance,totalTime:this.totalTime,estimateTime:this.estimateTime,estimateFare:this.selectedVehicle.estimateFare},console.log(this.rideData),this._createride.addRide(this.rideData).subscribe({next:t=>{console.log(t),this.toaster.success("Ride booked successfully!"),this.dialog.open(y,{width:"600px",data:{title:"Ride Booked",content:"Ride booked successfully!"}}),this.rideForm.reset(),this.rideForm.patchValue({serviceType:""}),this.userForm.reset(),this.userForm.patchValue({countrycode:"+91"}),this.travelForm.reset(),this.isNext=!0,this.isRoute=!1,this.directionsRenderer.setMap(null),this.removeWaypoint(0)},error:t=>{console.log(t),this.toaster.error(t.message)}})}close(){this.isNext=!0,this.isRoute=!1,this.directionsRenderer.setMap(null),this.travelForm.reset(),this.removeWaypoint(5)}resetTimer(){this.authService.resetInactivityTimer()}}return(n=r).\u0275fac=function(t){return new(t||n)(e.Y36(v.eN),e.Y36(c.qu),e.Y36(x),e.Y36(b._W),e.Y36(Z.Z),e.Y36(e.sBO),e.Y36(A.R),e.Y36(g.uw),e.Y36(I.e))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-createride"]],viewQuery:function(t,i){if(1&t&&(e.Gf(M,5),e.Gf(w,5),e.Gf(N,5),e.Gf(O,5)),2&t){let s;e.iGM(s=e.CRH())&&(i.startInput=s.first),e.iGM(s=e.CRH())&&(i.waypointInput=s.first),e.iGM(s=e.CRH())&&(i.endInput=s.first),e.iGM(s=e.CRH())&&(i.directionBtn=s.first)}},decls:16,vars:6,consts:[[1,"main-div"],[1,"left-card"],[3,"formGroup","ngSubmit"],["formControlName","countrycode",1,"form-select","country-code"],["value","+91","selected",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","userphone","placeholder","Enter 10 digit phone number",1,"form-control","number",3,"input"],["type","submit",1,"btn","get-details",3,"disabled"],["class","card my-2",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"right-div"],["id","map"],["class","rightDivForm",4,"ngIf"],[3,"value"],[1,"card","my-2"],[1,"card-body"],[1,"row","p-2"],[1,"col-sm-3"],[1,"mb-0"],[1,"col-sm-9"],[1,"text-muted","mb-0"],[1,"btn","btn-primary","get-detail",2,"float","right","width","100px",3,"click"],[1,"mt-4"],[1,"card"],[1,"card-title"],[1,"mb-3"],[1,"d-flex","align-items-center","mb-1"],["for","startInput"],["type","text","id","startInput","placeholder","Enter starting point","formControlName","start",1,"form-control",3,"change"],["startInput",""],["class","my-1",4,"ngIf"],["style","color: red;",4,"ngIf"],["for","endInput",1,"form-label"],["type","text","id","endInput","placeholder","Enter destination","formControlName","end",1,"form-control"],["endInput",""],["for","waypoint",1,"form-label"],[1,"d-flex","gap-2"],["type","text","placeholder","Enter Stops","id","waypoint",1,"form-control"],["waypointInput",""],["type","button",1,"btn","add-stops",3,"disabled","click"],["class"," d-flex gap-2 mb-2",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between"],["type","reset",1,"btn","btn-danger","mb-2",3,"click"],["type","submit",1,"btn","btn-info","mb-2",3,"disabled"],["directionBtn",""],[1,"my-1"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],[2,"color","red"],[4,"ngIf"],["class","d-flex align-items-center","style","color: red;",4,"ngIf"],[1,"d-flex","align-items-center",2,"color","red"],[1,"d-flex","gap-2","mb-2"],["type"," text","disabled","","id","added-waypoint",1,"form-control",3,"value"],[1,"btn","btn-danger",3,"click"],[1,"rightDivForm"],[1,"list-group","mb-2"],[1,"list-group-item","list-group-item-action"],["class","list-group-item list-group-item-action",4,"ngFor","ngForOf"],["class","list-group-item list-group-item-action","style","color: red;",4,"ngIf"],[1,"list-group","rounded"],["id","serviceType","formControlName","serviceType",1,"form-select",3,"change"],["serviceType",""],["value",""],[1,"form-check","form-check-inline"],["type","radio","name","paymentOption","id","cashP","value","cash","formControlName","paymentOption",1,"form-check-input"],["for","cashP",1,"form-check-label"],["type","radio","name","paymentOption","id","schedule","value","card","formControlName","paymentOption",1,"form-check-input"],["for","schedule",1,"form-check-label"],["type","radio","name","rideTime","value","bookNow","formControlName","rideTime",1,"form-check-input",3,"ngModel","change","ngModelChange"],["for","bookNow",1,"form-check-label"],["type","radio","name","rideTime","value","schedule","formControlName","rideTime",1,"form-check-input",3,"ngModel","ngModelChange","change"],["type","button","type","submit",1,"btn","mx-3","bookbtn",3,"disabled"],[1,"d-flex","gap-5"],["type","date",1,"form-control",3,"ngModel","disabled","min","ngModelChange","change"],["type","time",1,"form-control",3,"ngModel","disabled","min","ngModelChange","input"],[1,"list-group-item","list-group-item-action",2,"color","red"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"mat-card",1)(2,"mat-card-content")(3,"form",2),e.NdJ("ngSubmit",function(){return i.getUserDetails()}),e.TgZ(4,"select",3)(5,"option",4),e._uU(6,"+91"),e.qZA(),e.YNc(7,D,2,2,"option",5),e.qZA(),e.TgZ(8,"input",6),e.NdJ("input",function(a){return i.filterPhone(a)}),e.qZA(),e.TgZ(9,"button",7),e._uU(10,"Get Details"),e.qZA()(),e.YNc(11,F,25,4,"div",8),e.YNc(12,Y,39,7,"div",9),e.qZA()(),e.TgZ(13,"div",10),e._UZ(14,"div",11),e.YNc(15,Q,42,16,"mat-card",12),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("formGroup",i.userForm),e.xp6(4),e.Q6J("ngForOf",i.countryCodes),e.xp6(2),e.Q6J("disabled",!i.userForm.valid),e.xp6(2),e.Q6J("ngIf",i.isUser),e.xp6(1),e.Q6J("ngIf",!i.isNext),e.xp6(3),e.Q6J("ngIf",i.isRoute&&i.isInZone))},dependencies:[m.sg,m.O5,h.a8,h.dn,c._Y,c.YN,c.Kr,c.Fj,c.EJ,c._,c.JJ,c.JL,c.On,c.sg,c.u,m.rS],styles:[".main-div[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;padding:0 1em;margin:1em 0}.left-card[_ngcontent-%COMP%]{height:-moz-fit-content;height:fit-content;margin:15px auto;background-color:#4a494e}.rightDivForm[_ngcontent-%COMP%]{background-color:#4a494e;padding:10px;justify-items:left}.map-summary[_ngcontent-%COMP%]{margin:15px auto;border:1px solid black;border-radius:15px}#summary-panel[_ngcontent-%COMP%]{padding:10px}#map[_ngcontent-%COMP%]{min-width:200px;height:400px;margin:15px auto;border-radius:5px;box-shadow:0 0 20px #0003}.country-code[_ngcontent-%COMP%]{max-width:80px;margin:6px 6px 6px 0;display:inline-block}.number[_ngcontent-%COMP%]{max-width:300px;display:inline-block;margin:6px 6px 6px 0}.get-details[_ngcontent-%COMP%]{margin-bottom:5px!important;background-color:#00b52d;color:#fff;border:none;font-weight:600}.bookbtn[_ngcontent-%COMP%]{margin-bottom:5px!important;background-color:#00a01b;border:none;font-weight:600;color:#fff}.get-details[_ngcontent-%COMP%]:hover{background-color:#e2e2e2}.user-details[_ngcontent-%COMP%]{font-size:18px}p[_ngcontent-%COMP%]{font-size:14px;font-weight:500}.card-title[_ngcontent-%COMP%]{font-size:20px;font-weight:600}.add-stops[_ngcontent-%COMP%]{background-color:#4a494e;color:#fff;border:none}input[_ngcontent-%COMP%]:disabled{background-color:#e9ecef}#startInput[_ngcontent-%COMP%]:disabled{background-color:#e9ecef!important}#serviceType[_ngcontent-%COMP%]{max-width:300px}@media (width >=380px){.address-group[_ngcontent-%COMP%], .user-form[_ngcontent-%COMP%]{display:flex;gap:6px;flex-wrap:wrap}}@media (width >=935px){.main-div[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto 2fr;gap:1.3em}.left-card[_ngcontent-%COMP%]{width:auto}}"]}),r})();var K=d(1896);const B=[{path:"",component:H,pathMatch:"full"}];let W=(()=>{var n;class r{}return(n=r).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[m.ez,K.Bz.forChild(B),h.QW,c.u5,c.UX,g.Is]}),r})()}}]);