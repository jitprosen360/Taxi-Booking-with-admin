"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[731],{7731:(h,m,d)=>{d.r(m),d.d(m,{AdminModule:()=>M});var c=d(6814),p=d(1896),r=d(6223),t=d(5879),g=d(868),_=d(7682);function C(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"div",9)(1,"div",10)(2,"form",11),t.NdJ("ngSubmit",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.adminUpdate(n.selectedAdmin._id))}),t.TgZ(3,"div",4)(4,"label",12),t._uU(5,"Name"),t.qZA(),t.TgZ(6,"input",13),t.NdJ("ngModelChange",function(n){t.CHM(o);const a=t.oxw();return t.KtG(a.selectedAdmin.adminName=n)}),t.qZA()(),t.TgZ(7,"div",4)(8,"label",12),t._uU(9,"Email"),t.qZA(),t.TgZ(10,"input",14),t.NdJ("ngModelChange",function(n){t.CHM(o);const a=t.oxw();return t.KtG(a.selectedAdmin.email=n)}),t.qZA()(),t.TgZ(11,"div",4)(12,"label",12),t._uU(13,"Password"),t.qZA(),t.TgZ(14,"input",15),t.NdJ("ngModelChange",function(n){t.CHM(o);const a=t.oxw();return t.KtG(a.selectedAdmin.password=n)}),t.qZA()(),t.TgZ(15,"div",16)(16,"button",17),t._UZ(17,"i",18),t.qZA(),t.TgZ(18,"button",19),t.NdJ("click",function(){t.CHM(o);const n=t.oxw();return t.KtG(n.updateCancel())}),t._UZ(19,"i",20),t.qZA()()()()()}if(2&i){const o=t.oxw();t.xp6(2),t.Q6J("formGroup",o.adminUpdateForm),t.xp6(4),t.Q6J("ngModel",o.selectedAdmin.adminName),t.xp6(4),t.Q6J("ngModel",o.selectedAdmin.email),t.xp6(4),t.Q6J("ngModel",o.selectedAdmin.password)}}function u(i,s){if(1&i){const o=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td")(8,"button",21),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.updateAdminBtn(a._id))}),t._UZ(9,"i",22),t.qZA()(),t.TgZ(10,"td")(11,"button",23),t.NdJ("click",function(){const a=t.CHM(o).$implicit,l=t.oxw();return t.KtG(l.deleteAdmin(a._id))}),t._UZ(12,"i",24),t.qZA()()()}if(2&i){const o=s.$implicit;t.xp6(2),t.Oqu(o.adminName),t.xp6(2),t.Oqu(o.email),t.xp6(2),t.Oqu(o.cnfpassword)}}const f=[{path:"",component:(()=>{var i;class s{constructor(e,n,a){this._api=e,this.formBuilder=n,this.authService=a,this.showForm=!1}ngOnInit(){this.fetchUserData(),this.adminUpdateForm=this.formBuilder.group({adminName:"",email:"",password:""})}fetchUserData(){this._api.getuserData().subscribe({next:e=>{this.personDataArray=e.data.map(n=>({_id:n._id,adminName:n.adminName,email:n.email,cnfpassword:n.cnfpassword}))},error:e=>{alert(e)}})}updateAdminBtn(e){this.selectedAdmin=e,this.showForm=!0,this.adminUpdateForm.patchValue({adminName:this.selectedAdmin.adminName,email:this.selectedAdmin.email,password:this.selectedAdmin.password})}adminUpdate(e){this._api.updateUser(e,this.adminUpdateForm.value).subscribe({next:a=>{alert(a.message),this.fetchUserData(),this.showForm=!this.showForm},error:a=>{alert("Failed to update admin")}})}updateCancel(){this.showForm=!this.showForm}deleteAdmin(e){confirm("Are you sure you want to delete this admin?")&&this._api.deleteUser(e).subscribe({next:a=>{alert("Admin Deleted Successfully"),this.fetchUserData()},error:a=>{alert("Failed to delete admin")}})}resetTimer(){this.authService.resetInactivityTimer()}}return(i=s).\u0275fac=function(e){return new(e||i)(t.Y36(g.s),t.Y36(r.qu),t.Y36(_.e))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-admin"]],decls:22,vars:2,consts:[[1,"container-fluid",3,"mousemove"],["class","updateContainer py-4",4,"ngIf"],[1,"parentFormContainer"],["id","formContainer"],[1,"mb-3"],[1,"table-responsive"],[1,"table"],[1,"bg-dark","text-light"],[4,"ngFor","ngForOf"],[1,"updateContainer","py-4"],["id","Container"],[1,"container",3,"formGroup","ngSubmit"],[1,"form-label","d-flex","justify-content-start"],["type","text","formControlName","adminName",1,"form-control",3,"ngModel","ngModelChange"],["type","email","formControlName","email",1,"form-control",3,"ngModel","ngModelChange"],["type","password","formControlName","password",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-between"],["type","submit","id","adminUpdate",1,"btn","btn-primary","w-25"],[1,"fa-solid","fa-thumbs-up"],["type","button","id","updateCancel",1,"w-25","btn","btn-danger",3,"click"],[1,"fa-solid","fa-thumbs-down"],["id","updatebtn",3,"click"],[1,"fa-solid","fa-pen-to-square"],["id","deletebtn",3,"click"],[1,"fa-solid","fa-trash"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t.NdJ("mousemove",function(){return n.resetTimer()}),t.YNc(1,C,20,4,"div",1),t.TgZ(2,"div",2)(3,"div",3)(4,"h2",4),t._uU(5,"Admin Panel"),t.qZA(),t.TgZ(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th"),t._uU(11,"Name"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"Email"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Password"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Update"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"Delete"),t.qZA()()(),t.TgZ(20,"tbody"),t.YNc(21,u,13,3,"tr",8),t.qZA()()()()()()),2&e&&(t.xp6(1),t.Q6J("ngIf",n.showForm),t.xp6(20),t.Q6J("ngForOf",n.personDataArray))},dependencies:[c.sg,c.O5,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".parentFormContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}#formContainer[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:4px 4px 16px #000;width:90%;max-width:600px;padding:20px;margin:40px}.updateContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin-top:5%}.container[_ngcontent-%COMP%]{border-radius:5px;box-shadow:2px 2px 6px #000;padding:20px;transition:all linear .3s}.container[_ngcontent-%COMP%]:hover{transform:scale(1);transition:all linear .3s;z-index:1;box-shadow:4px 4px 16px #00b3ff}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto}@media (max-width: 360px){.table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{font-size:12px}}@media (max-width: 480px){.table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > th[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%] > .table[_ngcontent-%COMP%] > tfoot[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{font-size:14px}}"]}),s})(),pathMatch:"full"}];let M=(()=>{var i;class s{}return(i=s).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[c.ez,p.Bz.forChild(f),r.u5,r.UX]}),s})()}}]);