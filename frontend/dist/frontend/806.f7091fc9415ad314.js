"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[806],{1806:(Z,s,r)=>{r.r(s),r.d(s,{SettingModule:()=>v});var d=r(6814),n=r(6223),t=r(5879),g=r(5946),c=r(9229),S=r(7682);const l=function(){return{"background-color":"#ebebeb"}};let p=(()=>{var i;class a{constructor(e,o,m,b){this._setting=e,this.toastr=o,this.authService=m,this.formBuilder=b,this.timeoutArray=[10,20,30,45,60,90,120],this.stopArray=[1,2,3,4,5],this.credentials=[]}ngOnInit(){this.initializeForm(),this.getsettingData()}initializeForm(){this.settingForm=this.formBuilder.group({ridetimeout:["",[n.kI.required]],stop:["",[n.kI.required]],EMAIL_USER:["",[n.kI.required]],EMAIL_PASSWORD:["",[n.kI.required]],accountSid:["",[n.kI.required]],authToken:["",[n.kI.required]],twilioPhoneNumber:["",[n.kI.required]],STRIPE_Publishable_key:["",[n.kI.required]],STRIPE_Secret_key:["",[n.kI.required]]})}getsettingData(){this._setting.get_setting_data().subscribe({next:e=>{console.log(e),this.settingdata=e,this.id=e[0]._id,this.settingForm.patchValue({ridetimeout:e[0].ridetimeout,stop:e[0].stop,EMAIL_USER:e[0].EMAIL_USER,EMAIL_PASSWORD:e[0].EMAIL_PASSWORD,accountSid:e[0].accountSid,authToken:e[0].authToken,twilioPhoneNumber:e[0].twilioPhoneNumber,STRIPE_Publishable_key:e[0].STRIPE_Publishable_key,STRIPE_Secret_key:e[0].STRIPE_Secret_key})},error:e=>{console.log(e)}})}onSubmit(){console.log(this.settingForm.value),this.settingForm.valid?this._setting.updateSetting({settingdata:this.settingForm.value,id:this.id}).subscribe({next:o=>{console.log(o),this.settingdata=o,this.toastr.success(o.message),this.getsettingData()},error:o=>{console.log(o),this.toastr.error(o.error.message)}}):(this.toastr.warning("All Fields Required"),console.log("All Fields Required"))}resetTimer(){this.authService.resetInactivityTimer()}}return(i=a).\u0275fac=function(e){return new(e||i)(t.Y36(g.R),t.Y36(c._W),t.Y36(S.e),t.Y36(n.qu))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-setting"]],decls:61,vars:24,consts:[[1,"parentFormContainer"],["id","formContainer"],[1,"mb-3"],[1,"container",3,"formGroup","ngSubmit"],[1,"form-group","row","align-items-center","mb-2","d-flex"],[1,"col-sm-3","col-form-label","text-end"],[1,"col-sm-9","form-custom-select"],["type","text","formControlName","ridetimeout",1,"form-control",3,"value"],["type","text","formControlName","stop",1,"form-control",3,"value"],[1,"form-group","row","align-items-center","mb-2"],["type","text","formControlName","EMAIL_USER",1,"form-control",3,"value","ngStyle"],["type","text","formControlName","EMAIL_PASSWORD",1,"form-control",3,"value","ngStyle"],["type","text","formControlName","accountSid",1,"form-control",3,"value","ngStyle"],["type","text","formControlName","authToken",1,"form-control",3,"value","ngStyle"],["type","text","formControlName","twilioPhoneNumber",1,"form-control",3,"value","ngStyle"],["type","text","formControlName","STRIPE_Publishable_key",1,"form-control",3,"value","ngStyle"],["type","text","formControlName","STRIPE_Secret_key",1,"form-control",3,"value","ngStyle"],[1,"note","mt-2"],["type","submit",1,"btn","btn-info"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),t._uU(3,"Setting Panel"),t.qZA(),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return o.onSubmit()}),t.TgZ(5,"div",4)(6,"label",5),t._uU(7,"Ride Timeout"),t.qZA(),t.TgZ(8,"div",6),t._UZ(9,"input",7),t.qZA()(),t.TgZ(10,"div",4)(11,"label",5),t._uU(12,"Stop"),t.qZA(),t.TgZ(13,"div",6),t._UZ(14,"input",8),t.qZA()(),t.TgZ(15,"div")(16,"div",9)(17,"label",5),t._uU(18,"Ethereal Username"),t.qZA(),t.TgZ(19,"div",6),t._UZ(20,"input",10),t.qZA()()(),t.TgZ(21,"div")(22,"div",9)(23,"label",5),t._uU(24,"Ethereal Password"),t.qZA(),t.TgZ(25,"div",6),t._UZ(26,"input",11),t.qZA()()(),t.TgZ(27,"div")(28,"div",9)(29,"label",5),t._uU(30,"Account Sid"),t.qZA(),t.TgZ(31,"div",6),t._UZ(32,"input",12),t.qZA()()(),t.TgZ(33,"div")(34,"div",9)(35,"label",5),t._uU(36,"Auth Token"),t.qZA(),t.TgZ(37,"div",6),t._UZ(38,"input",13),t.qZA()()(),t.TgZ(39,"div")(40,"div",9)(41,"label",5),t._uU(42,"Twilio Phone Number"),t.qZA(),t.TgZ(43,"div",6),t._UZ(44,"input",14),t.qZA()()(),t.TgZ(45,"div")(46,"div",9)(47,"label",5),t._uU(48,"STRIPE Publishable Key "),t.qZA(),t.TgZ(49,"div",6),t._UZ(50,"input",15),t.qZA()()(),t.TgZ(51,"div")(52,"div",9)(53,"label",5),t._uU(54,"STRIPE Secret Key"),t.qZA(),t.TgZ(55,"div",6),t._UZ(56,"input",16),t.qZA()()(),t.TgZ(57,"p",17),t._uU(58," *Note : Please be cautious before changing the credentials. "),t.qZA(),t.TgZ(59,"button",18),t._uU(60,"Update"),t.qZA()()()()),2&e&&(t.xp6(4),t.Q6J("formGroup",o.settingForm),t.xp6(5),t.Q6J("value",o.ridetimeout),t.xp6(5),t.Q6J("value",o.stop),t.xp6(6),t.Q6J("value",o.EMAIL_USER)("ngStyle",t.DdM(17,l)),t.xp6(6),t.Q6J("value",o.EMAIL_PASSWORD)("ngStyle",t.DdM(18,l)),t.xp6(6),t.Q6J("value",o.accountSid)("ngStyle",t.DdM(19,l)),t.xp6(6),t.Q6J("value",o.authToken)("ngStyle",t.DdM(20,l)),t.xp6(6),t.Q6J("value",o.twilioPhoneNumber)("ngStyle",t.DdM(21,l)),t.xp6(6),t.Q6J("value",o.STRIPE_Publishable_key)("ngStyle",t.DdM(22,l)),t.xp6(6),t.Q6J("value",o.STRIPE_Secret_key)("ngStyle",t.DdM(23,l)))},dependencies:[d.PC,n._Y,n.Fj,n.JJ,n.JL,n.sg,n.u],styles:[".parentFormContainer[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}#formContainer[_ngcontent-%COMP%]{background-color:#fff;border-radius:10px;box-shadow:4px 4px 16px #d0d0d0;width:90%;max-width:600px;padding:20px;margin:40px}#formContainer[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.form-custom-select[_ngcontent-%COMP%]{position:relative;display:inline-block}.form-custom-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;-moz-appearance:none;border:1px solid #ccc;border-radius:4px;background-color:#fff;cursor:pointer}.form-dropdown-icon[_ngcontent-%COMP%]{position:absolute;top:50%;right:2rem;transform:translateY(-50%);pointer-events:none}.note[_ngcontent-%COMP%]{color:red;font-weight:700}"]}),a})();var f=r(1896);const h=[{path:"",component:p,pathMatch:"full"}];let v=(()=>{var i;class a{}return(i=a).\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[d.ez,f.Bz.forChild(h),n.u5,n.UX]}),a})()}}]);